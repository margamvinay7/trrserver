generator client {
    provider="prisma-client-js"
    binaryTargets = ["native", "debian-openssl-1.1.x"]
}

datasource db {
    provider = "mysql"
    url=env("DATABASE_URL")
    shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
}

model Student {
    id String @id
    fullName String
    rollNo Int?
    email String?
    mobile String?
    gender String?
    year Year[]
    academicyear Academicyear[]
    Attendence Attendence[]
    Assessment Assessment[]
    password String?
    role String @default("student")

}


model Year {
    id Int @id @default(autoincrement())
    year String
    Student Student @relation(fields: [studentId],references: [id])
    studentId String
}

model Academicyear{
    id Int @id @default(autoincrement())
    academicyear String
    Student Student @relation(fields: [studentId],references: [id])
    studentId String

}

// model Timetable {
//     id String @id
//     Monday Monday[]
//     Tuesday Tuesday[]
//     Wednesday Wednesday[]
//     Thursday Thursday[]
//     Friday Friday[]
//     Saturday Saturday[]
    
// }

// model Monday {
//     id Int @id @default(autoincrement())
//     Timetable Timetable @relation(fields: [timetableId],references: [id])
//     timetableId String
//     subject String
// }
// model Tuesday {
//     id Int @id @default(autoincrement())
//     Timetable Timetable @relation(fields: [timetableId],references: [id])
//     timetableId String
//     subject String
// }
// model Wednesday{
//     id Int @id @default(autoincrement())
//     Timetable Timetable @relation(fields: [timetableId],references: [id])
//     timetableId String
//     subject String
// }
// model Thursday {
//     id Int @id @default(autoincrement())
//     Timetable Timetable @relation(fields: [timetableId],references: [id])
//     timetableId String
//     subject String
// }
// model Friday {
//     id Int @id @default(autoincrement())
//     Timetable Timetable @relation(fields: [timetableId],references: [id])
//     timetableId String
//     subject String
// }
// model Saturday {
//     id Int @id @default(autoincrement())
//     Timetable Timetable @relation(fields: [timetableId],references: [id])
//     timetableId String
//     subject String
// }

model Timetable {
    id String @id @default(uuid())
    year String
academicyear String
    Days Days[]
}

model Days{
id String @id @default(uuid())
day String
Timetable Timetable @relation(fields: [timetableId],references: [id])
    timetableId String
Periods Periods[]
}

model Periods{
    id Int @id @default(autoincrement())
    Days Days @relation(fields: [daysId],references: [id])
 daysId String
    time String
    subject String
}



model Attendence {
  id          String  @id @default(uuid())

  Student       Student  @relation(fields: [studentId], references: [id])
  studentId     String
  date String
  Subject Subject[]
}

model Subject{
    id Int @id @default(autoincrement())
    Attendence Attendence @relation(fields: [attendenceId],references: [id])
    attendenceId String
    time String
    subject String
    present Boolean @default(true)
}

model Assessment{
    id String @id @default(uuid())
    Student       Student  @relation(fields: [studentId], references: [id])
    studentId     String
    year String
    academicyear String
    assessment String
    AssessmentSubject AssessmentSubject[]
} 


model AssessmentSubject{
    id String @id @default(uuid())
    Assessment Assessment @relation(fields:[assessmentId],references: [id])
    assessmentId String
    subject String
    theoryMarks Int
    practicalMarks Int
}


